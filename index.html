<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>FCM Client</title>
</head>
<body>

<h2>App User</h2>
<p id="token_output">Mengambil token...</p>

<script src="https://www.gstatic.com/firebasejs/9.6.11/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.11/firebase-messaging-compat.js"></script>

<script>
const firebaseConfig = {
  apiKey: "AIzaSyBTITgeHnkkL6wJVMq4OE_LHJMDuA8_3ho",
  authDomain: "ssss-f0f3c.firebaseapp.com",
  projectId: "ssss-f0f3c",
  storageBucket: "ssss-f0f3c.firebasestorage.app",
  messagingSenderId: "216606777782",
  appId: "1:216606777782:web:d12657df0c63e46c53a117",
  measurementId: "G-PFF7HFMM7C"
};

firebase.initializeApp(firebaseConfig);
const messaging = firebase.messaging();

async function getTokenFCM() {
    await Notification.requestPermission();
    const token = await messaging.getToken({
        vapidKey: "BK8..." // <-- masukkan VAPID KEY kamu disini
    });

    document.getElementById("token_output").textContent = token;

    // simpan token ke server API kamu
    await fetch("https://your-server.com/save-token", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ token })
    });
}

getTokenFCM();
</script>

</body>
</html>
